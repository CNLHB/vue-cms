webpackJsonp([10],{QJZr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("Xxa5"),r=n.n(a),o=n("exGp"),i=n.n(o),c=n("Dd8w"),s=n.n(c),u=n("NYxO"),g={name:"list",data:function(){return{page:{count:0,current_page:1,per_page:1,total:0},currentPage:0,list:[],columns:[{title:"ID",key:"cid",width:80,align:"center"},{title:"分类名称",key:"cateName",align:"center"},{title:"分类下物品数量",key:"IemNum",align:"center"},{title:"查看分类下物品",slot:"look",width:250,align:"center"},{title:"Action",slot:"action",width:250,align:"center"}]}},created:function(){this._getCategoryList({pageNum:this.currentPage,pageSize:10})},methods:s()({},Object(u.b)({getCategoryList:"category/getCategoryList",destroyCategory:"category/destroyCategory"}),{_getCategoryList:function(t){var e=this;return i()(r.a.mark(function n(){var a,o;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.getCategoryList(t);case 2:a=n.sent,o=a.data,e.page={count:o.data.total,total:o.data.total,current_page:1,per_page:10},e.list=o.data.list.map(function(t){return{cid:t.cid,IemNum:t.num,cateName:t.cateName,parent_id:0}});case 6:case"end":return n.stop()}},n,e)}))()},toPathLink:function(t){this.$router.push(t)},update:function(t){this.$router.push("/category/update/"+t)},look:function(t){this.$router.push("/goods/list/"+t)},destroy:function(t){var e,n=this;this.$Modal.confirm({title:"提示",content:"<p>确定删除此分类吗？</p>",loading:!0,onOk:(e=i()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.destroyCategory(t);case 3:n.$Message.success("删除成功"),n._getCategoryList({pageNum:n.currentPage,pageSize:10}),n._getCategoryList(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n.$Message.error(e.t0);case 11:return e.prev=11,n.$Modal.remove(),e.finish(11);case 14:case"end":return e.stop()}},e,n,[[0,8,11,14]])})),function(){return e.apply(this,arguments)}),onCancel:function(){n.$Message.warning("取消！")}})},changePage:function(t){console.log(t),this.currentPage=t,this._getCategoryList({pageNum:this.currentPage,pageSize:10})}})},l={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"listMain"},[n("Button",{staticStyle:{"margin-bottom":"16px"},attrs:{type:"primary",icon:"md-add"},on:{click:function(e){return t.toPathLink("/category/create")}}},[t._v("新增分类")]),t._v(" "),t.list.length>0?n("section",[n("Table",{attrs:{border:"",columns:t.columns,data:t.list},scopedSlots:t._u([{key:"name",fn:function(e){var a=e.row;return[n("strong",[t._v(t._s(a.name))])]}},{key:"look",fn:function(e){var a=e.row;return e.index,[n("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(e){return t.look(a.cid)}}},[t._v("查看")])]}},{key:"action",fn:function(e){var a=e.row;return e.index,[n("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(e){return t.update(a.cid)}}},[t._v("编辑")]),t._v(" "),n("Button",{attrs:{type:"error",size:"small"},on:{click:function(e){return t.destroy(a.cid)}}},[t._v("删除")])]}}],null,!1,29902808)}),t._v(" "),n("section",{staticClass:"page"},[n("Page",{attrs:{total:t.page.total,"page-size":t.page.per_page,current:t.page.current_page,"show-total":""},on:{"on-change":t.changePage}})],1)],1):t._e()],1)},staticRenderFns:[]};var p=n("VU/8")(g,l,!1,function(t){n("VuGk")},"data-v-07e366c8",null);e.default=p.exports},VuGk:function(t,e){}});
//# sourceMappingURL=10.451c5a61e6bac3b5cb11.js.map
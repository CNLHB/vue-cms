{"version":3,"sources":["webpack:///src/views/category/list.vue","webpack:///./src/views/category/list.vue?e0ad","webpack:///./src/views/category/list.vue"],"names":["list","name","data","page","count","current_page","per_page","total","currentPage","columns","title","key","width","align","slot","created","this","_getCategoryList","pageNum","pageSize","methods","extends_default","Object","vuex_esm","getCategoryList","destroyCategory","params","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","_ref","wrap","_context","prev","next","sent","map","item","cid","IemNum","num","cateName","parent_id","stop","toPathLink","path","$router","push","update","id","look","destroy","_ref2","_this2","$Modal","confirm","content","loading","onOk","_callee2","_context2","$Message","success","t0","error","remove","finish","apply","arguments","onCancel","warning","changePage","console","log","category_list","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","margin-bottom","attrs","type","icon","on","click","$event","_v","length","border","scopedSlots","_u","fn","ref","row","_s","index","margin-right","size","page-size","current","show-total","on-change","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/10.451c5a61e6bac3b5cb11.js","sourcesContent":["<template>\r\n  <section class=\"listMain\">\r\n    <Button\r\n      type=\"primary\"\r\n      @click=\"toPathLink('/category/create')\"\r\n      icon=\"md-add\"\r\n      style=\"margin-bottom: 16px;\"\r\n    >新增分类</Button>\r\n    <section v-if=\"list.length > 0\">\r\n      <Table border :columns=\"columns\" :data=\"list\">\r\n        <template slot-scope=\"{ row }\" slot=\"name\">\r\n          <strong>{{ row.name }}</strong>\r\n        </template>\r\n        <template slot-scope=\"{ row, index }\" slot=\"look\">\r\n          <Button type=\"primary\" size=\"small\" style=\"margin-right: 5px\" @click=\"look(row.cid)\">查看</Button>\r\n        </template>\r\n        <template slot-scope=\"{ row, index }\" slot=\"action\">\r\n          <Button type=\"primary\" size=\"small\" style=\"margin-right: 5px\" @click=\"update(row.cid)\">编辑</Button>\r\n          <Button type=\"error\" size=\"small\" @click=\"destroy(row.cid)\">删除</Button>\r\n        </template>\r\n      </Table>\r\n      <section class=\"page\">\r\n        <Page\r\n          :total=\"page.total\"\r\n          :page-size=\"page.per_page\"\r\n          :current=\"page.current_page\"\r\n          show-total\r\n          @on-change=\"changePage\"\r\n        />\r\n      </section>\r\n    </section>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapActions } from \"vuex\";\r\n\r\nexport default {\r\n  name: \"list\",\r\n  data() {\r\n    return {\r\n      page: {\r\n        count: 0,\r\n        current_page: 1,\r\n        per_page: 1,\r\n        total: 0\r\n      },\r\n      currentPage: 0,\r\n      list: [],\r\n      columns: [\r\n        {\r\n          title: \"ID\",\r\n          key: \"cid\",\r\n          width: 80,\r\n          align: \"center\"\r\n        },\r\n        {\r\n          title: \"分类名称\",\r\n          key: \"cateName\",\r\n          align: \"center\"\r\n        },\r\n        {\r\n          title: \"分类下物品数量\",\r\n          key: \"IemNum\",\r\n          align: \"center\"\r\n        },\r\n        {\r\n          title: \"查看分类下物品\",\r\n          slot: \"look\",\r\n          width: 250,\r\n          align: \"center\"\r\n        },\r\n        {\r\n          title: \"Action\",\r\n          slot: \"action\",\r\n          width: 250,\r\n          align: \"center\"\r\n        }\r\n      ]\r\n    };\r\n  },\r\n  created() {\r\n    this._getCategoryList({ pageNum: this.currentPage, pageSize: 10 });\r\n  },\r\n  methods: {\r\n    ...mapActions({\r\n      getCategoryList: \"category/getCategoryList\",\r\n      destroyCategory: \"category/destroyCategory\"\r\n    }),\r\n    // 获取分类\r\n    async _getCategoryList(params) {\r\n      const { data } = await this.getCategoryList(params);\r\n      this.page = {\r\n        count: data.data.total,\r\n        total: data.data.total,\r\n        current_page: 1,\r\n        per_page: 10\r\n      };\r\n      this.list = data.data.list.map(item => {\r\n        return {\r\n          cid: item.cid,\r\n          IemNum: item.num,\r\n          cateName: item.cateName,\r\n          parent_id: 0\r\n        };\r\n      });\r\n    },\r\n    // 路由跳转\r\n    toPathLink(path) {\r\n      this.$router.push(path);\r\n    },\r\n    // 更新\r\n    update(id) {\r\n      this.$router.push(`/category/update/${id}`);\r\n    },\r\n    look(id) {\r\n      this.$router.push(`/goods/list/${id}`);\r\n    },\r\n    // 删除分类\r\n    destroy(id) {\r\n      this.$Modal.confirm({\r\n        title: \"提示\",\r\n        content: \"<p>确定删除此分类吗？</p>\",\r\n        loading: true,\r\n        onOk: async () => {\r\n          try {\r\n            await this.destroyCategory(id);\r\n            this.$Message.success(\"删除成功\");\r\n            this._getCategoryList({ pageNum: this.currentPage, pageSize: 10 });\r\n            this._getCategoryList();\r\n          } catch (e) {\r\n            this.$Message.error(e);\r\n          } finally {\r\n            this.$Modal.remove();\r\n          }\r\n        },\r\n        onCancel: () => {\r\n          this.$Message.warning(\"取消！\");\r\n        }\r\n      });\r\n    },\r\n    changePage(page) {\r\n      console.log(page);\r\n      this.currentPage = page;\r\n      this._getCategoryList({ pageNum: this.currentPage, pageSize: 10 });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.listMain {\r\n  min-width: 1000px;\r\n}\r\n.page {\r\n  padding: 32px 0;\r\n  text-align: center;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/category/list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"listMain\"},[_c('Button',{staticStyle:{\"margin-bottom\":\"16px\"},attrs:{\"type\":\"primary\",\"icon\":\"md-add\"},on:{\"click\":function($event){return _vm.toPathLink('/category/create')}}},[_vm._v(\"新增分类\")]),_vm._v(\" \"),(_vm.list.length > 0)?_c('section',[_c('Table',{attrs:{\"border\":\"\",\"columns\":_vm.columns,\"data\":_vm.list},scopedSlots:_vm._u([{key:\"name\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('strong',[_vm._v(_vm._s(row.name))])]}},{key:\"look\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_c('Button',{staticStyle:{\"margin-right\":\"5px\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.look(row.cid)}}},[_vm._v(\"查看\")])]}},{key:\"action\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_c('Button',{staticStyle:{\"margin-right\":\"5px\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.update(row.cid)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"error\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.destroy(row.cid)}}},[_vm._v(\"删除\")])]}}],null,false,29902808)}),_vm._v(\" \"),_c('section',{staticClass:\"page\"},[_c('Page',{attrs:{\"total\":_vm.page.total,\"page-size\":_vm.page.per_page,\"current\":_vm.page.current_page,\"show-total\":\"\"},on:{\"on-change\":_vm.changePage}})],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-07e366c8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/category/list.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-07e366c8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./list.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-07e366c8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-07e366c8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/category/list.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}
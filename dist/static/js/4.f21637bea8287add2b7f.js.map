{"version":3,"sources":["webpack:///src/views/goods/create.vue","webpack:///./src/views/goods/create.vue?169a","webpack:///./src/views/goods/create.vue","webpack:///./src/config/config.js"],"names":["create","data","id","this","$route","params","url","config","URL","detail","model1","currentImage","defaultList","imgName","visible","uploadList","cityList","value","label","categoryList","cateId","cateName","parent_id","formValidate","assetName","brand","remark","userId","price","payTime","count","status","image","ruleValidate","required","message","trigger","type","created","getCateList","pageNum","pageSize","methods","extends_default","Object","vuex_esm","createArticle","getCategoryList","_createCategory","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","wrap","_context","prev","next","sent","$Message","success","$router","push","t0","stop","_this2","_callee2","_ref","_context2","list","map","item","cid","IemNum","assets","length","handleSubmit","name","_this3","$refs","validate","valid","error","handleReset","resetFields","playTimeChange","time","handleView","console","log","handleRemove","file","fileList","upload","splice","indexOf","handleSuccess","res","_this4","forEach","index","handleFormatError","$Notice","warning","title","desc","handleMaxSize","handleBeforeUpload","check","mounted","goods_create","render","_vm","_h","$createElement","_c","_self","ref","attrs","model","rules","label-width","prop","placeholder","callback","$$v","$set","expression","_v","_l","key","_s","_e","staticStyle","width","on","on-change","min","number","staticClass","src","nativeOn","click","$event","percent","percentage","hide-info","display","multiple","show-upload-list","default-file-list","on-success","format","max-size","on-format-error","on-exceeded-size","before-upload","action","height","line-height","size","margin-left","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/4.f21637bea8287add2b7f.js","sourcesContent":["<template>\r\n  <section>\r\n    <Form\r\n      ref=\"formValidate\"\r\n      :model=\"formValidate\"\r\n      :rules=\"ruleValidate\"\r\n      :label-width=\"100\"\r\n    >\r\n      <FormItem label=\"物品名称\" prop=\"assetName\">\r\n        <Input v-model=\"formValidate.assetName\" placeholder=\"物品名称\" />\r\n      </FormItem>\r\n      <FormItem label=\"规格型号\" prop=\"brand\">\r\n        <Input v-model=\"formValidate.brand\" placeholder=\"规格型号\" />\r\n      </FormItem>\r\n      <FormItem label=\"备注信息\" prop=\"remark\">\r\n        <Input v-model=\"formValidate.remark\" placeholder=\"备注信息\" />\r\n      </FormItem>\r\n      <FormItem label=\"物品分类\" v-if=\"categoryList.length > 0\">\r\n        <Select v-model=\"formValidate.cateId\">\r\n          <Option\r\n            v-for=\"(item, index) in categoryList\"\r\n            :value=\"item.cateId\"\r\n            :key=\"index\"\r\n            >{{ item.cateName }}</Option\r\n          >\r\n        </Select>\r\n      </FormItem>\r\n      <FormItem label=\"购买时间\" prop=\"payTime\">\r\n        <DatePicker\r\n          type=\"datetime\"\r\n          @on-change=\"playTimeChange\"\r\n          placeholder=\"Select date and time\"\r\n          style=\"width: 200px\"\r\n        ></DatePicker>\r\n      </FormItem>\r\n\r\n      <FormItem label=\"物品数量\">\r\n        <InputNumber\r\n          :min=\"1\"\r\n          v-model=\"formValidate.count\"\r\n          prop=\"count\"\r\n        ></InputNumber>\r\n      </FormItem>\r\n      <FormItem label=\"状态\">\r\n        <!-- <Input v-model=\"formValidate.status\" placeholder=\"状态: 1可用 其他不可用\" /> -->\r\n        <Select v-model=\"formValidate.status\" style=\"width:200px\" prop=\"status\">\r\n          <Option\r\n            v-for=\"item in cityList\"\r\n            :value=\"item.value\"\r\n            :key=\"item.value\"\r\n            >{{ item.label }}</Option\r\n          >\r\n        </Select>\r\n      </FormItem>\r\n      <FormItem label=\"价格\" prop=\"price\">\r\n        <Input v-model=\"formValidate.price\" placeholder=\"价格\" number/>\r\n      </FormItem>\r\n      <FormItem label=\"图片上传\">\r\n        <div class=\"demo-upload-list\" v-for=\"item in uploadList\" :key=\"item\">\r\n          <template v-if=\"item.status === 'finished'\">\r\n            <img :src=\"currentImage + item.url\" />\r\n            <div class=\"demo-upload-list-cover\">\r\n              <Icon\r\n                type=\"ios-eye-outline\"\r\n                @click.native=\"handleView(item.name)\"\r\n              ></Icon>\r\n              <Icon\r\n                type=\"ios-trash-outline\"\r\n                @click.native=\"handleRemove(item)\"\r\n              ></Icon>\r\n            </div>\r\n          </template>\r\n          <template v-else>\r\n            <Progress\r\n              v-if=\"item.showProgress\"\r\n              :percent=\"item.percentage\"\r\n              hide-info\r\n            ></Progress>\r\n          </template>\r\n        </div>\r\n        <Upload\r\n          ref=\"upload\"\r\n          multiple\r\n          :show-upload-list=\"false\"\r\n          :default-file-list=\"defaultList\"\r\n          :on-success=\"handleSuccess\"\r\n          :format=\"['jpg', 'jpeg', 'png']\"\r\n          :max-size=\"2048\"\r\n          :on-format-error=\"handleFormatError\"\r\n          :on-exceeded-size=\"handleMaxSize\"\r\n          :before-upload=\"handleBeforeUpload\"\r\n          type=\"drag\"\r\n          :action= \"url\"\r\n          style=\"display: inline-block;width:58px;\"\r\n        >\r\n          <div style=\"width: 58px;height:58px;line-height: 58px;\">\r\n            <Icon type=\"ios-camera\" size=\"20\"></Icon>\r\n          </div>\r\n        </Upload>\r\n        <Modal title=\"View Image\" v-model=\"visible\">\r\n          <img\r\n            :src=\"imgName\"\r\n            v-if=\"visible\"\r\n            style=\"width: 100%\"\r\n          />\r\n        </Modal>\r\n      </FormItem>\r\n      <FormItem>\r\n        <Button @click=\"handleReset('formValidate')\">重置</Button>\r\n        <Button\r\n          type=\"primary\"\r\n          @click=\"handleSubmit('formValidate')\"\r\n          style=\"margin-left: 8px\"\r\n          >提交</Button\r\n        >\r\n      </FormItem>\r\n    </Form>\r\n  </section>\r\n</template>\r\n<script>\r\nimport { mapActions } from \"vuex\";\r\nimport config from \"../../config/config\"\r\n// let URL=\"http://47.101.196.193:8088\"\r\n//http://47.101.196.193:8088/users/total\r\n export default {\r\n  data() {\r\n    return {\r\n      id: this.$route.params.id,\r\n      url: config.URL + \"/asset/batch/\",\r\n      detail: null,\r\n      model1: \"\",\r\n      currentImage: config.URL + \"/asset/download/1?url=\",\r\n      defaultList: [\r\n      ],\r\n      imgName: '',\r\n      visible: false,\r\n      uploadList: [],\r\n      cityList: [\r\n        {\r\n          value: 1,\r\n          label: \"可用\"\r\n        },\r\n        {\r\n          value: 0,\r\n          label: \"不可用\"\r\n        }\r\n      ],\r\n\r\n      categoryList: [\r\n        {\r\n          cateId: \"1\",\r\n          cateName: \"IT\",\r\n          parent_id: 0\r\n        }\r\n      ],\r\n      formValidate: {\r\n        assetName: \"\",\r\n        brand: \"\",\r\n        remark: \"\",\r\n        userId: \"\",\r\n        price: \"\",\r\n        payTime: \"\",\r\n        count: 1,\r\n        status: 1,\r\n        image: \"\",\r\n        cateId: \"\"\r\n      },\r\n      ruleValidate: {\r\n        assetName: [\r\n          { required: true, message: \"物品名称不能为空\", trigger: \"blur\" }\r\n        ],\r\n        remark: [\r\n          { required: true, message: \"备注信息不能为空\", trigger: \"blur\" }\r\n        ],\r\n        brand: [\r\n          { required: true, message: \"规格型号关键字不能为空\", trigger: \"blur\" }\r\n        ],\r\n        status: [\r\n          { required: true, message: \"状态关键字不能为空\", trigger: \"blur\" }\r\n        ],\r\n        count: [\r\n          {\r\n            required: false,\r\n            message: \"物品数量关键字不能为空\",\r\n            trigger: \"blur\"\r\n          }\r\n        ],\r\n        payTime: [\r\n          { required: true, message: \"购买时间关键字不能为空\", trigger: \"blur\" }\r\n        ],\r\n        price: [\r\n          { required: true, message: \"价格关键字不能为空且必须为数字\", trigger: \"blur\" ,type: \"number\"}\r\n        ]\r\n      }\r\n    };\r\n  },\r\n  created() {\r\n    this.getCateList({ pageNum: 1, pageSize: 10 });\r\n  },\r\n  methods: {\r\n    ...mapActions({\r\n      createArticle: \"article/createArticle\",\r\n      getCategoryList: \"category/getCategoryList\"\r\n    }),\r\n    // 创建\r\n    async _createCategory() {\r\n      this.formValidate.id = this.id;\r\n      this.formValidate.userId = 8;\r\n      try {\r\n        let d = await this.createArticle(this.formValidate);\r\n        this.$Message.success(\"创建成功!\");\r\n        this.$router.push(\"/goods\");\r\n      } catch (e) {}\r\n    },\r\n    async getCateList(params) {\r\n      const { data } = await this.getCategoryList(params);\r\n      this.categoryList = data.data.list.map(item => {\r\n        return {\r\n          cateId: item.cid,\r\n          IemNum: item.assets.length,\r\n          cateName: item.cateName,\r\n          parent_id: 0\r\n        };\r\n      });\r\n    },\r\n    // 提交\r\n    handleSubmit(name) {\r\n\r\n      this.$refs[name].validate(valid => {\r\n        if (valid) {\r\n          this._createCategory();\r\n        } else {\r\n          this.$Message.error(\"请完成表单!\");\r\n        }\r\n      });\r\n    },\r\n    handleReset(name) {\r\n      this.$refs[name].resetFields();\r\n    },\r\n    playTimeChange(time) {\r\n      this.formValidate.payTime = time;\r\n    },\r\n    handleView(name) {\r\n       console.log(name)\r\n      this.imgName =this.currentImage + name\r\n      \r\n      this.visible = true;\r\n    },\r\n    handleRemove(file) {\r\n      const fileList = this.$refs.upload.fileList;\r\n      this.$refs.upload.fileList.splice(fileList.indexOf(file), 1);\r\n    },\r\n    handleSuccess(res, file) {\r\n       console.log(res)\r\n      file.url = res.url;\r\n      file.name = res.url;\r\n      this.formValidate.image = \"\"\r\n      this.uploadList.forEach((item, index)=>{\r\n        if(this.formValidate.image.length == 0){\r\n            this.formValidate.image =  item.url\r\n            \r\n        }else{\r\n            this.formValidate.image =  this.formValidate.image + \"&\"+  item.url\r\n        }\r\n        \r\n      })\r\n    },\r\n    handleFormatError(file) {\r\n      this.$Notice.warning({\r\n        title: \"The file format is incorrect\",\r\n        desc:\r\n          \"File format of \" +\r\n          file.name +\r\n          \" is incorrect, please select jpg or png.\"\r\n      });\r\n    },\r\n    handleMaxSize(file) {\r\n      this.$Notice.warning({\r\n        title: \"Exceeding file size limit\",\r\n        desc: \"File  \" + file.name + \" is too large, no more than 2M.\"\r\n      });\r\n    },\r\n    handleBeforeUpload() {\r\n      const check = this.uploadList.length < 5;\r\n      if (!check) {\r\n        this.$Notice.warning({\r\n          title: \"Up to five pictures can be uploaded.\"\r\n        });\r\n      }\r\n      return check;\r\n    }\r\n  },\r\n  mounted() {\r\n    this.uploadList = this.$refs.upload.fileList;\r\n  }\r\n};\r\n</script>\r\n<style>\r\n    .demo-upload-list{\r\n        display: inline-block;\r\n        width: 60px;\r\n        height: 60px;\r\n        text-align: center;\r\n        line-height: 60px;\r\n        border: 1px solid transparent;\r\n        border-radius: 4px;\r\n        overflow: hidden;\r\n        background: #fff;\r\n        position: relative;\r\n        box-shadow: 0 1px 1px rgba(0,0,0,.2);\r\n        margin-right: 4px;\r\n    }\r\n    .demo-upload-list img{\r\n        width: 100%;\r\n        height: 100%;\r\n    }\r\n    .demo-upload-list-cover{\r\n        display: none;\r\n        position: absolute;\r\n        top: 0;\r\n        bottom: 0;\r\n        left: 0;\r\n        right: 0;\r\n        background: rgba(0,0,0,.6);\r\n    }\r\n    .demo-upload-list:hover .demo-upload-list-cover{\r\n        display: block;\r\n    }\r\n    .demo-upload-list-cover i{\r\n        color: #fff;\r\n        font-size: 20px;\r\n        cursor: pointer;\r\n        margin: 0 2px;\r\n    }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/goods/create.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('Form',{ref:\"formValidate\",attrs:{\"model\":_vm.formValidate,\"rules\":_vm.ruleValidate,\"label-width\":100}},[_c('FormItem',{attrs:{\"label\":\"物品名称\",\"prop\":\"assetName\"}},[_c('Input',{attrs:{\"placeholder\":\"物品名称\"},model:{value:(_vm.formValidate.assetName),callback:function ($$v) {_vm.$set(_vm.formValidate, \"assetName\", $$v)},expression:\"formValidate.assetName\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"规格型号\",\"prop\":\"brand\"}},[_c('Input',{attrs:{\"placeholder\":\"规格型号\"},model:{value:(_vm.formValidate.brand),callback:function ($$v) {_vm.$set(_vm.formValidate, \"brand\", $$v)},expression:\"formValidate.brand\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"备注信息\",\"prop\":\"remark\"}},[_c('Input',{attrs:{\"placeholder\":\"备注信息\"},model:{value:(_vm.formValidate.remark),callback:function ($$v) {_vm.$set(_vm.formValidate, \"remark\", $$v)},expression:\"formValidate.remark\"}})],1),_vm._v(\" \"),(_vm.categoryList.length > 0)?_c('FormItem',{attrs:{\"label\":\"物品分类\"}},[_c('Select',{model:{value:(_vm.formValidate.cateId),callback:function ($$v) {_vm.$set(_vm.formValidate, \"cateId\", $$v)},expression:\"formValidate.cateId\"}},_vm._l((_vm.categoryList),function(item,index){return _c('Option',{key:index,attrs:{\"value\":item.cateId}},[_vm._v(_vm._s(item.cateName))])}),1)],1):_vm._e(),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"购买时间\",\"prop\":\"payTime\"}},[_c('DatePicker',{staticStyle:{\"width\":\"200px\"},attrs:{\"type\":\"datetime\",\"placeholder\":\"Select date and time\"},on:{\"on-change\":_vm.playTimeChange}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"物品数量\"}},[_c('InputNumber',{attrs:{\"min\":1,\"prop\":\"count\"},model:{value:(_vm.formValidate.count),callback:function ($$v) {_vm.$set(_vm.formValidate, \"count\", $$v)},expression:\"formValidate.count\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"状态\"}},[_c('Select',{staticStyle:{\"width\":\"200px\"},attrs:{\"prop\":\"status\"},model:{value:(_vm.formValidate.status),callback:function ($$v) {_vm.$set(_vm.formValidate, \"status\", $$v)},expression:\"formValidate.status\"}},_vm._l((_vm.cityList),function(item){return _c('Option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.label))])}),1)],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"价格\",\"prop\":\"price\"}},[_c('Input',{attrs:{\"placeholder\":\"价格\",\"number\":\"\"},model:{value:(_vm.formValidate.price),callback:function ($$v) {_vm.$set(_vm.formValidate, \"price\", $$v)},expression:\"formValidate.price\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"图片上传\"}},[_vm._l((_vm.uploadList),function(item){return _c('div',{key:item,staticClass:\"demo-upload-list\"},[(item.status === 'finished')?[_c('img',{attrs:{\"src\":_vm.currentImage + item.url}}),_vm._v(\" \"),_c('div',{staticClass:\"demo-upload-list-cover\"},[_c('Icon',{attrs:{\"type\":\"ios-eye-outline\"},nativeOn:{\"click\":function($event){return _vm.handleView(item.name)}}}),_vm._v(\" \"),_c('Icon',{attrs:{\"type\":\"ios-trash-outline\"},nativeOn:{\"click\":function($event){return _vm.handleRemove(item)}}})],1)]:[(item.showProgress)?_c('Progress',{attrs:{\"percent\":item.percentage,\"hide-info\":\"\"}}):_vm._e()]],2)}),_vm._v(\" \"),_c('Upload',{ref:\"upload\",staticStyle:{\"display\":\"inline-block\",\"width\":\"58px\"},attrs:{\"multiple\":\"\",\"show-upload-list\":false,\"default-file-list\":_vm.defaultList,\"on-success\":_vm.handleSuccess,\"format\":['jpg', 'jpeg', 'png'],\"max-size\":2048,\"on-format-error\":_vm.handleFormatError,\"on-exceeded-size\":_vm.handleMaxSize,\"before-upload\":_vm.handleBeforeUpload,\"type\":\"drag\",\"action\":_vm.url}},[_c('div',{staticStyle:{\"width\":\"58px\",\"height\":\"58px\",\"line-height\":\"58px\"}},[_c('Icon',{attrs:{\"type\":\"ios-camera\",\"size\":\"20\"}})],1)]),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":\"View Image\"},model:{value:(_vm.visible),callback:function ($$v) {_vm.visible=$$v},expression:\"visible\"}},[(_vm.visible)?_c('img',{staticStyle:{\"width\":\"100%\"},attrs:{\"src\":_vm.imgName}}):_vm._e()])],2),_vm._v(\" \"),_c('FormItem',[_c('Button',{on:{\"click\":function($event){return _vm.handleReset('formValidate')}}},[_vm._v(\"重置\")]),_vm._v(\" \"),_c('Button',{staticStyle:{\"margin-left\":\"8px\"},attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleSubmit('formValidate')}}},[_vm._v(\"提交\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-46c14dae\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/goods/create.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-46c14dae\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./create.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./create.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./create.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-46c14dae\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./create.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/goods/create.vue\n// module id = null\n// module chunks = ","\r\nlet config = {\r\n    URL:\"http://47.101.196.193:8088\"\r\n};\r\nexport default config;\n\n\n// WEBPACK FOOTER //\n// ./src/config/config.js"],"sourceRoot":""}
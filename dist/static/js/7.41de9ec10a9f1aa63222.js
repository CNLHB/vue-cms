webpackJsonp([7],{"30GT":function(e,t){},Yxd1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("Dd8w"),r=n.n(a),i=n("Xxa5"),s=n.n(i),c=n("exGp"),o=n.n(c),u=n("NYxO"),l=n("5eyz"),d={components:{},data:function(){return{page:{count:0,current_page:1,per_page:10,total:0},list:[],columns:[{title:"ID",key:"id",width:80,align:"center"},{title:"管理员邮箱",key:"userMail",align:"center"},{title:"管理员昵称",key:"userName",align:"center"},{title:"管理员权限",key:"userPrivilege",align:"center"},{title:"Action",slot:"action",width:150,align:"center"}]}},created:function(){var e=this;return o()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e._getAdminList();case 1:case"end":return t.stop()}},t,e)}))()},computed:r()({},Object(u.d)(["admin"])),methods:r()({},Object(u.b)({getList:"admin/adminList",deleteAdmin:"admin/deleteAdmin"}),Object(u.c)({}),{destroy:function(e){var t,n=this;this.$Modal.confirm({title:"提示",content:"<p>确定删除此管理员吗？</p>",loading:!0,onOk:(t=o()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.deleteAdmin(e);case 3:n.$Message.success("删除成功"),n._getAdminList(),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n.$Message.error(t.t0);case 10:return t.prev=10,n.$Modal.remove(),t.finish(10);case 13:case"end":return t.stop()}},t,n,[[0,7,10,13]])})),function(){return t.apply(this,arguments)}),onCancel:function(){n.$Message.warning("取消！")}})},toPathLink:function(e){this.$router.push(e)},handlePage:function(e){this.currentPage=e,this._getAdminList()},_getAdminList:function(){var e=this;return o()(s.a.mark(function t(){var n,a,r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.list("root",e.currentPage,10);case 2:n=t.sent,a=n.data.data,e.page={count:a.total,current_page:a.pageNum,total:a.total,per_page:10},r=a.list.map(function(e){return{id:e.id,userName:e.userName,userPrivilege:"暂无权限限制"==e.userPrivilege?16:1,userMail:e.userMail}}),e.list=r;case 7:case"end":return t.stop()}},t,e)}))()}})},p={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"listMain"},[e._e(),e._v(" "),n("Table",{attrs:{border:"",columns:e.columns,data:e.list},scopedSlots:e._u([{key:"name",fn:function(t){var a=t.row;return[n("strong",[e._v(e._s(a.name))])]}},{key:"action",fn:function(t){var a=t.row;return t.index,[n("Button",{attrs:{type:"error",size:"small"},on:{click:function(t){return e.destroy(a.id)}}},[e._v("删除")])]}}])}),e._v(" "),n("section",{staticClass:"page"},[n("Page",{attrs:{total:e.page.total,"page-size":e.page.per_page,current:e.page.current_page,"show-total":""},on:{"on-change":e.handlePage}})],1)],1)},staticRenderFns:[]};var g=n("VU/8")(d,p,!1,function(e){n("30GT")},"data-v-7dc31a97",null);t.default=g.exports}});
//# sourceMappingURL=7.41de9ec10a9f1aa63222.js.map
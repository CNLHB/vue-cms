{"version":3,"sources":["webpack:///src/views/admin/adminList.vue","webpack:///./src/views/admin/adminList.vue?97fc","webpack:///./src/views/admin/adminList.vue"],"names":["admin_adminList","components","data","page","count","current_page","per_page","total","list","columns","title","key","width","align","slot","created","_this","this","asyncToGenerator_default","regenerator_default","a","mark","_callee","wrap","_context","prev","next","_getAdminList","stop","computed","extends_default","Object","vuex_esm","methods","getList","deleteAdmin","destroy","id","_ref","_this2","$Modal","confirm","content","loading","onOk","_callee2","_context2","$Message","success","t0","error","remove","finish","apply","arguments","onCancel","warning","toPathLink","path","$router","push","handlePage","currentPage","_this3","_callee3","_ref2","adminList","_context3","admin","sent","pageNum","map","item","userName","userPrivilege","userMail","views_admin_adminList","render","_vm","_h","$createElement","_c","_self","staticClass","_e","_v","attrs","border","scopedSlots","_u","fn","ref","row","_s","name","index","type","size","on","click","$event","page-size","current","show-total","on-change","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/7.41de9ec10a9f1aa63222.js","sourcesContent":["<template>\r\n  <section class=\"listMain\">\r\n    <!-- admin.list       v-if=\"user\"-->\r\n    <Button\r\n    v-if=\"false\"\r\n      type=\"primary\"\r\n      @click=\"toPathLink('/admin/create')\"\r\n      icon=\"md-add\"\r\n      style=\"margin-bottom: 16px;\"\r\n    >新增管理员</Button>\r\n    <Table border :columns=\"columns\" :data=\"list\">\r\n      <template slot-scope=\"{ row }\" slot=\"name\">\r\n        <strong>{{ row.name }}</strong>\r\n      </template>\r\n      <template slot-scope=\"{ row, index }\" slot=\"action\">\r\n        <Button type=\"error\" size=\"small\" @click=\"destroy(row.id)\">删除</Button>\r\n      </template>\r\n    </Table>\r\n    <section class=\"page\">\r\n      <Page\r\n        :total=\"page.total\"\r\n        :page-size=\"page.per_page\"\r\n        :current=\"page.current_page\"\r\n        show-total\r\n        @on-change=\"handlePage\"\r\n      ></Page>\r\n    </section>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapActions, mapMutations } from \"vuex\";\r\nimport list from \"../../api/admin\";\r\nimport admin from \"../../api/admin\";\r\nexport default {\r\n  components: {},\r\n  data() {\r\n    return {\r\n      page: {\r\n        count: 0,\r\n        current_page: 1,\r\n        per_page: 10,\r\n        total: 0\r\n      },\r\n      list: [],\r\n      columns: [\r\n        {\r\n          title: \"ID\",\r\n          key: \"id\",\r\n          width: 80,\r\n          align: \"center\"\r\n        },\r\n        {\r\n          title: \"管理员邮箱\",\r\n          key: \"userMail\",\r\n          align: \"center\"\r\n        },\r\n        {\r\n          title: \"管理员昵称\",\r\n          key: \"userName\",\r\n          align: \"center\"\r\n        },\r\n        {\r\n          title: \"管理员权限\",\r\n          key: \"userPrivilege\",\r\n          align: \"center\"\r\n        },\r\n\r\n        {\r\n          title: \"Action\",\r\n          slot: \"action\",\r\n          width: 150,\r\n          align: \"center\"\r\n        }\r\n      ]\r\n    };\r\n  },\r\n  async created() {\r\n    this._getAdminList();\r\n  },\r\n  computed: {\r\n    ...mapState([\"admin\"])\r\n  },\r\n\r\n  methods: {\r\n    ...mapActions({\r\n      getList: \"admin/adminList\",\r\n      deleteAdmin: \"admin/deleteAdmin\"\r\n    }),\r\n    ...mapMutations({}),\r\n    // 删除\r\n    destroy(id) {\r\n      var slef = this;\r\n      this.$Modal.confirm({\r\n        title: \"提示\",\r\n        content: \"<p>确定删除此管理员吗？</p>\",\r\n        loading: true,\r\n        onOk: async () => {\r\n          try {\r\n            await this.deleteAdmin(id);\r\n            this.$Message.success(\"删除成功\");\r\n            this._getAdminList();\r\n          } catch (e) {\r\n            this.$Message.error(e);\r\n          } finally {\r\n            this.$Modal.remove();\r\n          }\r\n        },\r\n        onCancel: () => {\r\n          this.$Message.warning(\"取消！\");\r\n        }\r\n      });\r\n    },\r\n    toPathLink(path) {\r\n      this.$router.push(path);\r\n    },\r\n    // 切换分页\r\n    handlePage(page) {\r\n      this.currentPage = page;\r\n      this._getAdminList();\r\n    },\r\n    async _getAdminList() {\r\n      //获取管理员列表\r\n      let {\r\n        data: { data: list }\r\n      } = await admin.list(\"root\", this.currentPage, 10);\r\n      this.page = {\r\n        count: list.total,\r\n        current_page: list.pageNum,\r\n        total: list.total,\r\n        per_page: 10\r\n      };\r\n      let adminList = list.list.map(item => {\r\n        return {\r\n          id: item.id,\r\n          userName: item.userName,\r\n          userPrivilege: item.userPrivilege == \"暂无权限限制\" ? 16 : 1,\r\n          userMail: item.userMail\r\n        };\r\n      });\r\n      this.list = adminList;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.page {\r\n  padding: 32px 0;\r\n  text-align: center;\r\n}\r\nh1 {\r\n  font-weight: normal;\r\n}\r\n.listMain {\r\n  min-width: 700px;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/admin/adminList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"listMain\"},[(false)?_c('Button',{staticStyle:{\"margin-bottom\":\"16px\"},attrs:{\"type\":\"primary\",\"icon\":\"md-add\"},on:{\"click\":function($event){return _vm.toPathLink('/admin/create')}}},[_vm._v(\"新增管理员\")]):_vm._e(),_vm._v(\" \"),_c('Table',{attrs:{\"border\":\"\",\"columns\":_vm.columns,\"data\":_vm.list},scopedSlots:_vm._u([{key:\"name\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('strong',[_vm._v(_vm._s(row.name))])]}},{key:\"action\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_c('Button',{attrs:{\"type\":\"error\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.destroy(row.id)}}},[_vm._v(\"删除\")])]}}])}),_vm._v(\" \"),_c('section',{staticClass:\"page\"},[_c('Page',{attrs:{\"total\":_vm.page.total,\"page-size\":_vm.page.per_page,\"current\":_vm.page.current_page,\"show-total\":\"\"},on:{\"on-change\":_vm.handlePage}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7dc31a97\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/admin/adminList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7dc31a97\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./adminList.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./adminList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./adminList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7dc31a97\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./adminList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7dc31a97\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/admin/adminList.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}